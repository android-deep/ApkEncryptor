cmake_minimum_required(VERSION 3.4.1)
#添加子目录, 调用子目录中的CMakeLists.txt 和build同级目录
#set(JNI_PATH ${CMAKE_CURRENT_SOURCE_DIR}/src/main/jni)
#add_subdirectory(${JNI_PATH})

# 设置生成的so动态库最后输出的路径
set(CMAKE_LIBRARY_OUTPUT_DIRECTORY ${PROJECT_SOURCE_DIR}/../jniLibs/${ANDROID_ABI})

#设置头文件搜索路径（和此txt同个路径的头文件无需设置），可选
#include_directories(文件夹。。。)
# 编译出一个动态库 lib-jni，源文件只有 src/main/cpp/*.cpp *.c
file(GLOB_RECURSE ALL_SOURCE "*.cpp" "*.c")

add_library( # Sets the name of the library.  设置库的名称。
             BY

             # Sets the library as a shared library. 将library设置为一个共享库
             SHARED

             # Provides a relative path to your source file(s).为源文件提供一个相对路径
               # Main.cpp
               # ${jni}
                ${ALL_SOURCE}
             )

find_library( # Sets the name of the path variable. 设置路径变量的名称
              log-lib

              # Specifies the name of the NDK library that 指定NDK库的名称
              # you want CMake to locate.
              log
              )

target_link_libraries( # Specifies the target library.
        BY
        android
        # Links the target library to the log library
        # included in the NDK.
        ${log-lib})